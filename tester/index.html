<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Custom YouTube Player</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      min-height: 100vh;
      background: linear-gradient(to bottom, #0f172a, #1e293b);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
    }

    .container {
      width: 100%;
      max-width: 64rem;
    }

    .header {
      margin-bottom: 2rem;
      text-align: center;
    }

    .header h1 {
      font-size: 2.25rem;
      font-weight: bold;
      color: white;
      margin-bottom: 0.5rem;
    }

    .header p {
      color: #cbd5e1;
    }

    .player-container {
      position: relative;
      background: black;
      border-radius: 0.5rem;
      overflow: hidden;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      aspect-ratio: 16 / 9;
    }

    #youtube-player {
      width: 100%;
      height: 100%;
      pointer-events: none;
      user-select: none;
    }

    .protective-overlay {
      position: absolute;
      inset: 0;
      z-index: 20;
    }

    .loading {
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
    }

    .loading-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1rem;
    }

    .spinner {
      width: 4rem;
      height: 4rem;
      border: 4px solid #475569;
      border-top-color: #dc2626;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .loading-text {
      color: white;
      font-size: 0.875rem;
    }

    .watermark {
      position: absolute;
      top: 1rem;
      right: 1rem;
      z-index: 50;
      pointer-events: none;
    }

    .watermark span {
      background: rgba(0, 0, 0, 0.6);
      padding: 0.375rem 0.75rem;
      border-radius: 0.25rem;
      color: white;
      font-size: 0.875rem;
      font-weight: 600;
    }

    .play-overlay {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, 0.3);
      z-index: 30;
      cursor: pointer;
      transition: background 0.3s;
    }

    .play-overlay:hover {
      background: rgba(0, 0, 0, 0.5);
    }

    .play-overlay.hidden {
      display: none;
    }

    .play-btn-large {
      background: #dc2626;
      padding: 1.5rem;
      border-radius: 50%;
      border: none;
      cursor: pointer;
      transition: background 0.3s;
    }

    .play-btn-large:hover {
      background: #b91c1c;
    }

    .play-btn-large svg {
      width: 48px;
      height: 48px;
      fill: white;
      color: white;
    }

    .controls {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(to top, rgba(0, 0, 0, 0.9), transparent);
      padding: 1rem;
      transition: opacity 0.3s;
      z-index: 40;
    }

    .controls.hidden {
      opacity: 0;
    }

    .progress-container {
      margin-bottom: 1rem;
    }

    .progress-bar {
      width: 100%;
      height: 4px;
      background: #475569;
      border-radius: 0.5rem;
      -webkit-appearance: none;
      appearance: none;
      cursor: pointer;
      outline: none;
    }

    .progress-bar::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 12px;
      height: 12px;
      background: #dc2626;
      border-radius: 50%;
      cursor: pointer;
    }

    .progress-bar::-moz-range-thumb {
      width: 12px;
      height: 12px;
      background: #dc2626;
      border-radius: 50%;
      cursor: pointer;
      border: none;
    }

    .time-display {
      display: flex;
      justify-content: space-between;
      font-size: 0.75rem;
      color: #cbd5e1;
      margin-top: 0.25rem;
    }

    .controls-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }

    .left-controls {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .control-btn {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      padding: 0.25rem;
      transition: color 0.3s;
    }

    .control-btn:hover {
      color: #dc2626;
    }

    .control-btn svg {
      width: 24px;
      height: 24px;
    }

    .volume-container {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .volume-slider {
      width: 5rem;
      height: 4px;
      background: #475569;
      border-radius: 0.5rem;
      -webkit-appearance: none;
      appearance: none;
      cursor: pointer;
      outline: none;
    }

    .volume-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 10px;
      height: 10px;
      background: #dc2626;
      border-radius: 50%;
      cursor: pointer;
    }

    .volume-slider::-moz-range-thumb {
      width: 10px;
      height: 10px;
      background: #dc2626;
      border-radius: 50%;
      cursor: pointer;
      border: none;
    }

    .volume-text {
      font-size: 0.75rem;
      color: #cbd5e1;
      width: 2rem;
    }

    .info-section {
      margin-top: 2rem;
      background: #1e293b;
      border-radius: 0.5rem;
      padding: 1.5rem;
    }

    .info-section h2 {
      font-size: 1.25rem;
      font-weight: 600;
      color: white;
      margin-bottom: 0.5rem;
    }

    .info-section ul {
      color: #cbd5e1;
      list-style: none;
    }

    .info-section li {
      padding: 0.5rem 0;
    }

    @media (max-width: 640px) {
      .volume-container {
        display: none;
      }
      .left-controls {
        gap: 0.5rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Custom YouTube Player</h1>
      <p>YouTube dengan Kontrol Custom Penuh</p>
    </div>

    <div class="player-container" id="player-container">
      <div id="youtube-player"></div>
      <div class="protective-overlay" id="protective-overlay"></div>

      <div class="loading" id="loading">
        <div class="loading-content">
          <div class="spinner"></div>
          <p class="loading-text">Loading video...</p>
        </div>
      </div>

      <div class="watermark">
        <span>videoplayeryt.com</span>
      </div>

      <div class="play-overlay" id="play-overlay">
        <button class="play-btn-large" id="play-btn-large">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <polygon points="5,3 19,12 5,21"></polygon>
          </svg>
        </button>
      </div>

      <div class="controls" id="controls">
        <div class="progress-container">
          <input type="range" class="progress-bar" id="progress-bar" min="0" max="100" value="0">
          <div class="time-display">
            <span id="current-time">0:00</span>
            <span id="duration">0:00</span>
          </div>
        </div>

        <div class="controls-bar">
          <div class="left-controls">
            <button class="control-btn" id="play-pause-btn" title="Play">
              <svg id="play-icon" viewBox="0 0 24 24" fill="currentColor">
                <polygon points="5,3 19,12 5,21"></polygon>
              </svg>
              <svg id="pause-icon" viewBox="0 0 24 24" fill="currentColor" style="display: none;">
                <rect x="6" y="4" width="4" height="16"></rect>
                <rect x="14" y="4" width="4" height="16"></rect>
              </svg>
            </button>

            <button class="control-btn" id="skip-back-btn" title="Rewind 10s">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polygon points="19,20 9,12 19,4" fill="currentColor"></polygon>
                <line x1="5" y1="4" x2="5" y2="20"></line>
              </svg>
            </button>

            <button class="control-btn" id="skip-forward-btn" title="Forward 10s">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polygon points="5,4 15,12 5,20" fill="currentColor"></polygon>
                <line x1="19" y1="4" x2="19" y2="20"></line>
              </svg>
            </button>

            <div class="volume-container">
              <button class="control-btn" id="mute-btn" title="Mute">
                <svg id="volume-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polygon points="11,5 6,9 2,9 2,15 6,15 11,19" fill="currentColor"></polygon>
                  <path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                  <path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path>
                </svg>
                <svg id="mute-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                  <polygon points="11,5 6,9 2,9 2,15 6,15 11,19" fill="currentColor"></polygon>
                  <line x1="23" y1="9" x2="17" y2="15"></line>
                  <line x1="17" y1="9" x2="23" y2="15"></line>
                </svg>
              </button>
              <input type="range" class="volume-slider" id="volume-slider" min="0" max="100" value="100">
              <span class="volume-text" id="volume-text">100%</span>
            </div>
          </div>

          <button class="control-btn" id="fullscreen-btn" title="Fullscreen">
            <svg id="maximize-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="15,3 21,3 21,9"></polyline>
              <polyline points="9,21 3,21 3,15"></polyline>
              <line x1="21" y1="3" x2="14" y2="10"></line>
              <line x1="3" y1="21" x2="10" y2="14"></line>
            </svg>
            <svg id="minimize-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
              <polyline points="4,14 10,14 10,20"></polyline>
              <polyline points="20,10 14,10 14,4"></polyline>
              <line x1="14" y1="10" x2="21" y2="3"></line>
              <line x1="3" y1="21" x2="10" y2="14"></line>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <div class="info-section">
      <h2>Fitur Custom Player</h2>
      <ul>
        <li>Play/Pause dengan tombol custom</li>
        <li>Volume control dan mute</li>
        <li>Progress bar untuk seeking</li>
        <li>Tombol skip forward/backward (10 detik)</li>
        <li>Fullscreen mode</li>
        <li>Kualitas otomatis dari YouTube</li>
        <li>Klik kanan diblokir - tidak ada akses ke fitur YouTube</li>
        <li>Overlay transparan melindungi player</li>
      </ul>
    </div>
  </div>

  <script>
    // Variables
    var player;
    var isPlaying = false;
    var isMuted = false;
    var volume = 100;
    var duration = 0;
    var controlsTimeout;
    var updateInterval;

    // DOM Elements
    var playerContainer = document.getElementById('player-container');
    var loading = document.getElementById('loading');
    var playOverlay = document.getElementById('play-overlay');
    var playBtnLarge = document.getElementById('play-btn-large');
    var controls = document.getElementById('controls');
    var progressBar = document.getElementById('progress-bar');
    var currentTimeEl = document.getElementById('current-time');
    var durationEl = document.getElementById('duration');
    var playPauseBtn = document.getElementById('play-pause-btn');
    var playIcon = document.getElementById('play-icon');
    var pauseIcon = document.getElementById('pause-icon');
    var skipBackBtn = document.getElementById('skip-back-btn');
    var skipForwardBtn = document.getElementById('skip-forward-btn');
    var muteBtn = document.getElementById('mute-btn');
    var volumeIcon = document.getElementById('volume-icon');
    var muteIcon = document.getElementById('mute-icon');
    var volumeSlider = document.getElementById('volume-slider');
    var volumeText = document.getElementById('volume-text');
    var fullscreenBtn = document.getElementById('fullscreen-btn');
    var maximizeIcon = document.getElementById('maximize-icon');
    var minimizeIcon = document.getElementById('minimize-icon');
    var protectiveOverlay = document.getElementById('protective-overlay');

    // Format time helper
    function formatTime(seconds) {
      if (!seconds || isNaN(seconds)) return '0:00';
      var hours = Math.floor(seconds / 3600);
      var minutes = Math.floor((seconds % 3600) / 60);
      var secs = Math.floor(seconds % 60);
      
      if (hours > 0) {
        return hours + ':' + String(minutes).padStart(2, '0') + ':' + String(secs).padStart(2, '0');
      }
      return minutes + ':' + String(secs).padStart(2, '0');
    }

    // Load YouTube IFrame API
    var tag = document.createElement('script');
    tag.src = 'https://www.youtube.com/iframe_api';
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    // YouTube API Ready
    function onYouTubeIframeAPIReady() {
      player = new YT.Player('youtube-player', {
        height: '100%',
        width: '100%',
        videoId: '79UZWTkYlgg',
        playerVars: {
          controls: 0,
          fs: 0,
          iv_load_policy: 3,
          modestbranding: 1,
          rel: 0,
          disablekb: 1,
          playsinline: 1,
          origin: window.location.origin
        },
        events: {
          onReady: onPlayerReady,
          onStateChange: onPlayerStateChange
        }
      });
    }

    function onPlayerReady(event) {
      loading.style.display = 'none';
      duration = player.getDuration();
      progressBar.max = duration;
      durationEl.textContent = formatTime(duration);
      volume = player.getVolume();
      volumeSlider.value = volume;
      volumeText.textContent = volume + '%';
    }

    function onPlayerStateChange(event) {
      if (event.data === YT.PlayerState.PLAYING) {
        isPlaying = true;
        playOverlay.classList.add('hidden');
        playIcon.style.display = 'none';
        pauseIcon.style.display = 'block';
        
        clearInterval(updateInterval);
        updateInterval = setInterval(function() {
          var currentTime = player.getCurrentTime();
          progressBar.value = currentTime;
          currentTimeEl.textContent = formatTime(currentTime);
        }, 100);
      } else {
        isPlaying = false;
        if (event.data !== YT.PlayerState.BUFFERING) {
          playOverlay.classList.remove('hidden');
        }
        playIcon.style.display = 'block';
        pauseIcon.style.display = 'none';
        clearInterval(updateInterval);
      }
    }

    // Play/Pause
    function togglePlayPause() {
      if (!player) return;
      if (isPlaying) {
        player.pauseVideo();
      } else {
        player.playVideo();
      }
    }

    playBtnLarge.addEventListener('click', togglePlayPause);
    playPauseBtn.addEventListener('click', togglePlayPause);

    // Skip
    skipBackBtn.addEventListener('click', function() {
      if (player) {
        player.seekTo(player.getCurrentTime() - 10);
      }
    });

    skipForwardBtn.addEventListener('click', function() {
      if (player) {
        player.seekTo(player.getCurrentTime() + 10);
      }
    });

    // Volume
    muteBtn.addEventListener('click', function() {
      if (!player) return;
      if (isMuted) {
        player.unMute();
        isMuted = false;
        volumeIcon.style.display = 'block';
        muteIcon.style.display = 'none';
        volumeText.textContent = volume + '%';
      } else {
        player.mute();
        isMuted = true;
        volumeIcon.style.display = 'none';
        muteIcon.style.display = 'block';
        volumeText.textContent = '0%';
      }
    });

    volumeSlider.addEventListener('input', function() {
      if (!player) return;
      volume = parseInt(this.value);
      player.setVolume(volume);
      volumeText.textContent = volume + '%';
      if (volume === 0) {
        isMuted = true;
        volumeIcon.style.display = 'none';
        muteIcon.style.display = 'block';
      } else {
        isMuted = false;
        volumeIcon.style.display = 'block';
        muteIcon.style.display = 'none';
      }
    });

    // Progress bar
    progressBar.addEventListener('input', function() {
      if (player) {
        player.seekTo(parseFloat(this.value));
      }
    });

    // Fullscreen
    fullscreenBtn.addEventListener('click', function() {
      if (!document.fullscreenElement) {
        playerContainer.requestFullscreen().catch(function(err) {
          console.log('Fullscreen error:', err);
        });
      } else {
        document.exitFullscreen();
      }
    });

    document.addEventListener('fullscreenchange', function() {
      if (document.fullscreenElement) {
        maximizeIcon.style.display = 'none';
        minimizeIcon.style.display = 'block';
      } else {
        maximizeIcon.style.display = 'block';
        minimizeIcon.style.display = 'none';
      }
    });

    // Show/hide controls on hover
    playerContainer.addEventListener('mouseenter', function() {
      controls.classList.remove('hidden');
    });

    playerContainer.addEventListener('mouseleave', function() {
      if (isPlaying) {
        controls.classList.add('hidden');
      }
    });

    playerContainer.addEventListener('mousemove', function() {
      controls.classList.remove('hidden');
      clearTimeout(controlsTimeout);
      if (isPlaying) {
        controlsTimeout = setTimeout(function() {
          controls.classList.add('hidden');
        }, 3000);
      }
    });

    // Click on protective overlay to play/pause
    protectiveOverlay.addEventListener('click', togglePlayPause);

    // Prevent right click
    document.addEventListener('contextmenu', function(e) {
      e.preventDefault();
    });

    // Keyboard shortcuts
    document.addEventListener('keydown', function(e) {
      if (e.code === 'Space') {
        e.preventDefault();
        togglePlayPause();
      } else if (e.code === 'ArrowLeft') {
        if (player) player.seekTo(player.getCurrentTime() - 10);
      } else if (e.code === 'ArrowRight') {
        if (player) player.seekTo(player.getCurrentTime() + 10);
      } else if (e.code === 'KeyM') {
        muteBtn.click();
      } else if (e.code === 'KeyF') {
        fullscreenBtn.click();
      }
    });
  </script>
</body>
</html>
